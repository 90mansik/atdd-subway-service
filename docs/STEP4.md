## 4단계 - 요금 조회

### 요구사항
- [ ] 경로 조회 시 거리 기준 요금 정보 포함하기
- [ ] 노선별 추가 요금 정책 추가
- [ ] 연령별 할인 정책 추가

### 요구사항 구현
- 경로 조회 시 거리 기준 요금 정보 포함하기
  - 지하철 경로 검색 인수 테스트 수정
    - [ ] 최단 경로 조회 시 총 거리 및 요금 정보 확인
  - 지하철 요금 조회 인수 테스트 작성
    - [ ] 총 거리가 10km 이내인 경우 요금 테스트
    - [ ] 총 거리가 15km 초과인 경우 요금 테스트
    - [ ] 총 거리가 58km 초과인 경우 요금 테스트
  - 요금 조회 기능 구현
    - [ ] Line 도메인 추가 요금 정책 테스트 작성
    - [ ] Line 도메인 추가 요금 정책 구현
    - [ ] Path 도메인 노선 정보 추가 테스트 작성
    - [ ] Path 도메인 노선 정보 추가 구현
    - [ ] 운임 타입 enum 구현(기본, 추가, 공제)
    - [ ] 거리 타입 enum 구현(기본, 10-50(5), 50(8))
    - [ ] 연령 타입 enum 구현(일반, 청소년, 어린이, 무료)
    - [ ] Fare 도메인 테스트 작성
    - [ ] Fare 도메인 구현
- 노선별 추가 요금 정책 추가
  - 지하철 요금 조회 인수 테스트 작성
    - [ ] 경로 중 추가 요금이 있는 노선 포함 시 요금 테스트
- 연령별 할인 정책 추가
  - 지하철 요금 조회 인수 테스트 작성
    - [ ] 로그인 사용자가 청소년(13세)인 경우 요금 할인 테스트
    - [ ] 로그인 사용자가 어린이(6세)인 경우 요금 할인 테스트

### 요구사항 설명
#### 거리별 요금 정책
* 기본운임(10㎞ 이내) : 기본운임 1,250원
* 이용 거리 초과 시 추가운임 부과
  * 10km 초과 ∼ 50 km 까지(5km 까지 마다 100원)
  * 50km 초과 시 (8km 까지 마다 100원)
```
! 지하철 운임은 거리비례제로 책정됩니다. (실제 이동한 경로가 아닌 최단거리 기준으로 계산)
```
* 수정된 인수 조건
```
Feature: 지하철 경로 검색

  Scenario: 두 역의 최단 거리 경로를 조회
    Given 지하철역이 등록되어있음
    And 지하철 노선이 등록되어있음
    And 지하철 노선에 지하철역이 등록되어있음
    When 출발역에서 도착역까지의 최단 거리 경로 조회를 요청
    Then 최단 거리 경로를 응답
    And 총 거리도 함께 응답함
    And ** 지하철 이용 요금도 함께 응답함 **
```
#### 노선별 추가 요금 정책
* 노선에 추가 요금 필드를 추가
* 추가 요금이 있는 노선을 이용 할 경우 측정된 요금에 추가
  * ex) 900원 추가 요금이 있는 노선 8km 이용 시 1,250원 -> 2,150원
  * ex) 900원 추가 요금이 있는 노선 12km 이용 시 1,350원 -> 2,250원
* 경로 중 추가요금이 있는 노선을 환승 하여 이용 할 경우 가장 높은 금액의 추가 요금만 적용
  * ex) 0원, 500원, 900원의 추가 요금이 있는 노선들을 경유하여 8km 이용 시 1,250원 -> 2,150원

#### 로그인 사용자의 경우 연령별 요금 할인 적용
* 청소년: 운임에서 350원을 공제한 금액의 20% 할인
* 어린이: 운임에서 350원을 공제한 금액의 50% 할인
```
- 청소년: 13세 이상 ~ 19세 미만
- 어린이: 6세 이상 ~ 13세 미만
```