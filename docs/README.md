## 1단계 - 인수 테스트 기반 리팩터링

### 요구사항
* LineService 리팩터링
* LineSectionAcceptanceTest 리팩터링

### 기능 명세
* line
    *  상행역에서 하행역까지 모든 역을 가져온다
    * 역을 순서대로 연결한다
    
* sections
    * 등록
        * 이미 등록된 구간은 등록할 수 없다
        * 기존 구간과 겹치는 역이 하나도 없으면 등록할 수 없다
        * 새로운 하행 구간을 등록한다
        * 기존 구간 사이에 새로운 구간을 등록한다
    * 삭제
        * 삭제할 역이 포함된 구간을 삭제한다
        * 하나 남은 구간은 삭제할 수 없다
        * 기존 구간의 중간역을 삭제한다      
    
* section
    * 역 사이에 새 구간이 들어오면 추가된 역 기준으로 길이가 조정된다
    * 삭제된 역을 제외한 두 구간의 길이를 합친다
        
* distance
    * 구간의 길이는 0보다 커야한다
    * 구간의 길이를 계산한다
    
## 2단계 - 경로 조회 기능
### 요구 사항
* 최단 경로 조회 인수 테스트 만들기
* 최단 경로 조회 기능 구현하기

### 인수 테스트 시나리오
* 출발역과 도착역에 대한 최단 거리를 조회한다.
* 출박역과 도착역이 같은 경우 조회할 수 없다.
* 출발역과 도착역이 연결되어 있지 않으면 조회할 수 없다.
* 출발역이 노선에 존재하지 않으면 조회할 수 없다.
* 도착역이 노선에 존재하지 않으면 조회할 수 없다.

## 기능 명세
* PathService
    * 최단 경로 목록을 반환한다

*  Lines
    * 전체 노선에 등록된 역을 조회한다
    * 전체 노선에 등록된 구간을 조회한다
    * 노선에 지하철역이 모두 포함되어 있는지 확인한다
  
* PathPinder
    * 출발역과 도착역이 같을 경우 최단경로를 구할 수 없다
    * 노선에 지하철역이 포함되어 있지 않은 경우 최단경로를 구할 수 없다
    * 출발역과 도착역이 연결되어 있지 않으면 최단경로를 구할 수 없다.
  
* ShortestPath
    * 최단경로를 조회한다
    * 최단경로 거리를 조회한다
    
## 3단계 - 인증을 통한 기능 구현
### 요구 사항
* 토큰 발급 기능 (로그인) 인수 테스트 만들기
* 인증 - 내 정보 조회 기능 완성하기
* 인증 - 즐겨 찾기 기능 완성하기

### 인수 테스트 시나리오
#### 로그인 인수 테스트
* 로그인을 성공한다
* 비밀번호가 일치하지 않으면 로그인에 실패한다
* 유효하지 않은 토큰으로 api를 호출하면 예외가 발생한다
#### 내 정보 인수 테스트
* 나의 정보를 조회한다
* 나의 정보를 수정한다
* 나의 정보를 삭제한다
#### 즐겨찾기 인수테스트
* 즐겨찾기를 생성한다
* 즐겨찾기 목록을 조회한다
* 즐겨찾기를 삭제한다

### 기능 명세
* 내 정보
    * 나의 정보를 조회한다
    * 나의 정보를 수정한다
    * 나의 정보를 삭제한다
* 즐겨 찾기
  * 즐겨찾기를 생성한다
    * 출발역과 도착역이 같을 경우 예외가 발생한다
  * 즐겨찾기 목록을 조회한다
  * 즐겨찾기를 삭제한다
    * 다른 사람의 즐겨찾기는 삭제할 수 없다



   
