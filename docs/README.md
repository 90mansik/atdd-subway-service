# ATDD

# 목차

* ### [1단계 - 인수 테스트 기반 리팩터링](#1단계---인수-테스트-기반-리팩터링)

# 1단계 - 인수 테스트 기반 리팩터링

## 요구사항

* [ ] LineService 리팩터링
* [ ] (선택) LineSectionAcceptanceTest 리팩터링

## 요구사항 설명

### 인수 테스트 기반 리팩터링

* LineService의 비즈니스 로직을 도메인으로 옮기기
* 한번에 많은 부분을 고치려 하지 말고 나눠서 부분부분 리팩터링하기
* 전체 기능은 인수 테스트로 보호한 뒤 세부 기능을 TDD로 리팩터링하기

#### 1. Domain으로 옮길 로직을 찾기

* 스프링 빈을 사용하는 객체와 의존하는 로직을 제외하고는 도메인으로 옮길 예정
* **객체지향 생활체조**를 참고
    ```text
    1. 한 메서드에 오직 한 단계의 들여쓰기만 한다.
    2. else 예약어(keyword)는 쓰지 않는다.
    3. 모든 원시값과 문자열을 포장한다.
    4. 일급(first-class) 콜렉션을 쓴다.
    5. 한 줄에 점을 하나만 찍는다.
    6. 줄여쓰지 않는다(축약 금지).
    7. 모든 엔티티(entity)를 작게 유지한다.
    8. 2개 이상의 인스턴스 변수를 가진 클래스를 쓰지 않는다.
    9. 게터(getter)/세터(setter)/프로퍼티(property)를 쓰지 않는다.
    ```

#### 2. Domain의 단위 테스트를 작성하기

* 서비스 레이어에서 옮겨 올 로직의 기능을 테스트
* SectionsTest나 LineTest 클래스가 생성될 수 있음

#### 3. 로직을 옮기기

* 기존 로직을 지우지 말고 새로운 로직을 만들어 수행
* 정상 동작 확인 후 기존 로직 제거